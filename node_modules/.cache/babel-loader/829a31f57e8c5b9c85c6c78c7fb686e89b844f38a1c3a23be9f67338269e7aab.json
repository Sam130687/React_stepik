{"ast":null,"code":"import _classCallCheck from\"/Users/salamatdzhaparaliev/Study/React/React_stepik/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/salamatdzhaparaliev/Study/React/React_stepik/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/salamatdzhaparaliev/Study/React/React_stepik/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/salamatdzhaparaliev/Study/React/React_stepik/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React from'react';import{Movies}from'../components/Movies';import{Search}from'../components/Search';import{Preloader}from'../components/Preloader';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var API_KEY=process.env.REACT_APP_API_KEY;var Main=/*#__PURE__*/function(_React$Component){_inherits(Main,_React$Component);var _super=_createSuper(Main);function Main(){var _this;_classCallCheck(this,Main);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={movies:[],loading:true};_this.searchMovies=function(str){var type=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'all';var movieDate=arguments.length>2?arguments[2]:undefined;console.log(movieDate);_this.setState({loading:true});fetch(\"https://www.omdbapi.com/?apikey=\".concat(API_KEY,\"&s=\").concat(str).concat(type!=='all'?\"&type=\".concat(type):'').concat(movieDate?\"&y=\".concat(movieDate):'')).then(function(response){return response.json();}).then(function(data){return _this.setState({movies:data.Search,loading:false});}).catch(function(err){console.error(err);_this.setState({loading:false});});};return _this;}_createClass(Main,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;console.log(process.env);fetch(\"https://www.omdbapi.com/?apikey=\".concat(API_KEY,\"&s=matrix\")).then(function(response){return response.json();}).then(function(data){return _this2.setState({movies:data.Search,loading:false});}).catch(function(err){console.error(err);_this2.setState({loading:false});});}},{key:\"render\",value:function render(){var _this$state=this.state,movies=_this$state.movies,loading=_this$state.loading;return/*#__PURE__*/_jsxs(\"main\",{className:\"container content\",children:[/*#__PURE__*/_jsx(Search,{searchMovies:this.searchMovies}),loading?/*#__PURE__*/_jsx(Preloader,{}):/*#__PURE__*/_jsx(Movies,{movies:movies})]});}}]);return Main;}(React.Component);export{Main};","map":{"version":3,"names":["React","Movies","Search","Preloader","jsx","_jsx","jsxs","_jsxs","API_KEY","process","env","REACT_APP_API_KEY","Main","_React$Component","_inherits","_super","_createSuper","_this","_classCallCheck","_len","arguments","length","args","Array","_key","call","apply","concat","state","movies","loading","searchMovies","str","type","undefined","movieDate","console","log","setState","fetch","then","response","json","data","catch","err","error","_createClass","key","value","componentDidMount","_this2","render","_this$state","className","children","Component"],"sources":["/Users/salamatdzhaparaliev/Study/React/React_stepik/src/layout/Main.jsx"],"sourcesContent":["import React from 'react';\r\nimport { Movies } from '../components/Movies';\r\nimport { Search } from '../components/Search';\r\nimport { Preloader } from '../components/Preloader';\r\n\r\nconst API_KEY = process.env.REACT_APP_API_KEY;\r\n\r\nclass Main extends React.Component {\r\n    state = {\r\n        movies: [],\r\n        loading: true,\r\n    };\r\n\r\n    componentDidMount() {\r\n        console.log(process.env);\r\n        fetch(`https://www.omdbapi.com/?apikey=${API_KEY}&s=matrix`)\r\n            .then((response) => response.json())\r\n            .then((data) =>\r\n                this.setState({ movies: data.Search, loading: false })\r\n            )\r\n            .catch((err) => {\r\n                console.error(err);\r\n                this.setState({ loading: false });\r\n            });\r\n    }\r\n\r\n    searchMovies = (str, type = 'all', movieDate) => {\r\n        console.log(movieDate);\r\n        this.setState({ loading: true });\r\n        fetch(\r\n            `https://www.omdbapi.com/?apikey=${API_KEY}&s=${str}${\r\n                type !== 'all' ? `&type=${type}` : ''\r\n            }${\r\n                movieDate ? `&y=${movieDate}` : ''\r\n            }`\r\n        )\r\n            .then((response) => response.json())\r\n            .then((data) =>\r\n                this.setState({ movies: data.Search, loading: false })\r\n            )\r\n            .catch((err) => {\r\n                console.error(err);\r\n                this.setState({ loading: false });\r\n            });\r\n    };\r\n\r\n    render() {\r\n        const { movies, loading } = this.state;\r\n\r\n        return (\r\n            <main className='container content'>\r\n                <Search searchMovies={this.searchMovies} />\r\n                {loading ? <Preloader /> : <Movies movies={movies} />}\r\n            </main>\r\n        );\r\n    }\r\n}\r\n\r\nexport { Main };\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}